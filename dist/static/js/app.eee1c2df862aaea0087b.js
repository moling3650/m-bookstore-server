webpackJsonp([2,0],[function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=o(33),s=a(i),r=o(46),n=a(r),c=o(63),d=a(c),l=o(135),u=a(l),f=o(142),p=a(f),v=o(140),h=a(v),_=o(137),b=a(_),m=o(141),k=a(m),g=o(138),x=a(g),y=o(136),w=a(y),S=o(143),B=a(S);o(48),s.default.use(n.default),s.default.use(d.default);var M=s.default.extend(u.default),j=new n.default({linkActiveClass:"active"});j.map({"/":{component:p.default},"/free":{component:h.default},"/boy":{component:b.default},"/girl":{component:k.default},"/category":{component:x.default},"/book/:fiction_id":{name:"book",component:w.default},"/reader":{component:B.default}}),j.start(M,"#app")},,,,,function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return new r.default(function(o,a){if("[object String]"!==Object.prototype.toString.call(t))throw new Error('Type of param "jsonpUrl" is not string.');var i=document.querySelector("head"),s="duokan_fiction_chapter",r=void 0,n=document.createElement("script");n.src=t,"number"==typeof e&&(r=setTimeout(function(){clearTimeout(r),i.removeChild(n),delete window[s],a({result:1,statusText:"Request Timeout",status:408})},e)),window[s]=function(t){clearTimeout(r),i.removeChild(n),delete window[s],o(JSON.parse(l.decode(t)))},i.appendChild(n)})}var s=o(132),r=a(s),n=o(133),c=a(n),d=o(33),l=o(80).Base64,u=0,f="m-reader";e.getApiData=function(t,e,o){d.http.get(t).then(function(t){var a=t.body;a.result===u?e&&e(a):o&&o(a)}).catch(function(t){return o&&o(t)})},e.parseHiddenInfo=function(t){var e={};return t.replace(/[\[\]\{\}]/g,"").split(";").map(function(t){var o=t.split("|"),a=(0,c.default)(o,2),i=a[0],s=a[1];e[i]=s}),e},e.getChapterContent=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;if("number"==typeof o){var s=[null,o];o=s[0],a=s[1]}d.http.get(t).then(function(t){t.body.result===u&&i(t.body.url,a).then(function(t){return e&&e(t)}).catch(function(t){return o&&o(t)})}).catch(function(t){return o&&o(t)})},e.storageGetter=function(t){return window.localStorage.getItem(f+t)},e.storageSetter=function(t,e){return window.localStorage.setItem(f+t,e)}},,,,,,function(t,e,o){var a,i,s={};o(60),a=o(124),i=o(77),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},,,,,function(t,e,o){var a,i,s={};o(52),a=o(121),i=o(69),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(54),a=o(122),i=o(71),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},,,,,,,,,,,,,,function(t,e,o){var a,i,s={};o(56),a=o(119),i=o(73),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(53),a=o(120),i=o(70),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e){t.exports=" <div class=app> <router-view keep-alive></router-view> </div> "},function(t,e){t.exports=' <div class=girl _v-062bf6e3=""> <top title=女生频道 _v-062bf6e3=""></top> <div class=container _v-062bf6e3=""> <section class=main-card v-for="item in items" _v-062bf6e3=""> <group-header :title=item.ad_name _v-062bf6e3=""></group-header> <book-list :books=item.books _v-062bf6e3=""></book-list> <group-footer :text=item.info.more_text _v-062bf6e3=""></group-footer> </section> </div> </div> '},function(t,e){t.exports=' <div class=book _v-09a20f03=""> <top :title=book.title _v-09a20f03=""></top> <main class=container _v-09a20f03=""> <div class=main-card _v-09a20f03=""> <div class=detail _v-09a20f03=""> <img :src=book.cover :alt=book.title class=cover _v-09a20f03=""> <div class=info _v-09a20f03=""> <h3 class=title v-text=book.title _v-09a20f03=""></h3> <p class=author v-text=book.authors _v-09a20f03=""></p> <div class=grade :class=scoreClass _v-09a20f03="">{{ book.score_count &gt; 0 ? book.score_count + \'个评价\' : \'暂无评价\'}}</div> <p class=price _v-09a20f03="">价格：{{ book.price }}书币/千字</p> <p class=count _v-09a20f03="">字数：{{ parseInt(book.word_count / 10000) }}万字 <span class=book-tag :class="{\'finish\': book.finish}" _v-09a20f03=""></span></p> </div> </div> <ul class=btn-group _v-09a20f03=""> <li class=btn v-link="{ path: `/reader?fiction_id=${book.fiction_id}` }" _v-09a20f03=""></li> </ul> <div class=content v-text=book.content _v-09a20f03=""></div> <div class=latest _v-09a20f03="">最新：{{ book.latest }} 更新于 {{ book.updated | smartDate}}</div> </div> <div class=main-card _v-09a20f03=""> <h2 class=tag-header _v-09a20f03="">类别标签</h2> <ul class=tags _v-09a20f03=""> <li class=tag v-for="tag in tags" v-text=tag _v-09a20f03=""></li> </ul> </div> <div class=main-card _v-09a20f03=""> <h1 class=title _v-09a20f03="">作者其他图书</h1> <book-table :books=author_books _v-09a20f03=""></book-table> </div> <div class=main-card _v-09a20f03=""> <h1 class=title _v-09a20f03="">喜欢本书的人也喜欢</h1> <book-table :books=related _v-09a20f03=""></book-table> </div> <div class=main-card _v-09a20f03=""> <h1 class=title _v-09a20f03="">图书信息</h1> <p class=rights v-text=book.rights _v-09a20f03=""></p> </div> </main> </div> '},function(t,e){t.exports=' <a href=# class=group-footer v-if="text != undefined" v-text="text ? text : \'查看更多\'" _v-09b7f7d8=""></a> '},function(t,e){t.exports=' <ul class=book-table _v-33384a34=""> <li class=item v-for="book in books" track-by=$index _v-33384a34=""> <a class=book v-link="{ name: \'book\', params: { fiction_id: book.fiction_id}}" _v-33384a34=""> <img class=cover :src=book.cover :alt=book.title _v-33384a34=""> <h1 class=title v-text=book.title _v-33384a34=""></h1> </a> </li> </ul> '},function(t,e){t.exports=' <header class=group-header _v-45057d54=""> <h2 class=title v-text=title _v-45057d54=""></h2> <p class=desc v-if=desc v-text=desc _v-45057d54=""></p> </header> '},function(t,e){t.exports=' <div class=boy _v-4907aafa=""> <top title=男生频道 _v-4907aafa=""></top> <div class=container _v-4907aafa=""> <section class=main-card v-for="item in items" _v-4907aafa=""> <group-header :title=item.ad_name _v-4907aafa=""></group-header> <book-list :books=item.books _v-4907aafa=""></book-list> <group-footer :text=item.info.more_text _v-4907aafa=""></group-footer> </section> </div> </div> '},function(t,e){t.exports=' <ul class=book-list _v-53970bc0=""> <li v-for="book in books" track-by=$index _v-53970bc0=""> <a class=book v-link="{ name: \'book\', params: { fiction_id: book.fiction_id}}" _v-53970bc0=""> <img class=cover :src=book.cover :alt=book.title _v-53970bc0=""> <div class=info _v-53970bc0=""> <h1 class=title v-text=book.title _v-53970bc0=""></h1> <p class=summary v-text=book.summary _v-53970bc0=""></p> <p class=author v-text=book.authors _v-53970bc0=""></p> <ul class=tags _v-53970bc0=""> <li class=tag v-for="tag in book.tags | limitBy 2" track-by=$index v-text=tag _v-53970bc0=""></li> </ul> </div> </a> </li> </ul> '},function(t,e){t.exports=' <div class=reader _v-7331dd83=""> <div class=reader-header v-show=barShow _v-7331dd83=""> <a class=back @click=goBack _v-7331dd83=""></a> <a class=more @click.prevent=togglePopupShow _v-7331dd83=""></a> <div class=popup v-show=popupShow _v-7331dd83=""> <div class=book @click=goBack _v-7331dd83=""> <img class=cover :src=book.cover :alt=book.title _v-7331dd83=""> <h1 class=title v-text=book.title _v-7331dd83=""></h1> <p class=author v-text=book.authors _v-7331dd83=""></p> </div> <div class=auto-pay :class="{\'on\': isAutoBuy}" @click=toggleAutoBuy _v-7331dd83=""></div> </div> </div> <div class=reader-body :style=bgStyleObj @click=toggleBar @scroll=bodyScroll v-el:reader-body="" _v-7331dd83=""> <ul class=chapters v-show=contentShow :style="{fontSize: fontSize + \'px\'}" _v-7331dd83=""> <li class=chapter v-for="chapter in chapters" track-by=$index _v-7331dd83=""> <h1 class=title v-text=chapter.t _v-7331dd83=""></h1> <p class=paragraph v-for="paragraph in chapter.p" track-by=$index v-text=paragraph _v-7331dd83=""></p> </li> </ul> </div> <div class=reader-footer v-show=barShow _v-7331dd83=""> <div class=footer-bar _v-7331dd83=""> <div class=top _v-7331dd83=""> <a class="item prev-chapter" @click.prevent=getPrevChapter _v-7331dd83=""></a> <a class="item current-chapter" v-text="(chapterId + 1) + \'/\' + book.chapter_count" _v-7331dd83=""></a> <a class="item next-chapter" @click.prevent=getNextChapter _v-7331dd83=""></a> </div> <div class=bottom _v-7331dd83=""> <a class="item toc" _v-7331dd83=""></a> <a class="item font" :class="{\'on\': fontBarShow}" @click.prevent=toggleFontBar _v-7331dd83=""></a> <a class=item :class="nightMode ? \'day\' : \'night\'" @click.prevent=switchNightMode _v-7331dd83=""></a> <a class="item download" _v-7331dd83=""></a> </div> </div> <div class=font-bar v-show=fontBarShow _v-7331dd83=""> <div class=font-size _v-7331dd83=""> <a class=font-large @click.prevent=largeFontSize _v-7331dd83=""></a> <a class=font-small @click.prevent=smallFontSize _v-7331dd83=""></a> </div> <div class=font-bg _v-7331dd83=""> <a class=bg-option v-for="obj in bgStyleObjs" :class="{\'on\': bgType === $index}" :style=obj @click.prevent=changeBgType($index) _v-7331dd83=""></a> </div> </div> </div> </div> '},function(t,e){t.exports=' <div class=main _v-75e15dfa=""> <top title=m-bookstore _v-75e15dfa=""></top> <div class=container @scroll=containerScroll v-el:container="" _v-75e15dfa=""> <section class=main-card _v-75e15dfa=""> <div class=search-box _v-75e15dfa="">输入书名/作者/关键字</div> <div class=slider-banner _v-75e15dfa=""> <ul class=slider-wrap _v-75e15dfa=""> <li class=item _v-75e15dfa=""> <img src=http://image.read.duokan.com/mfsv2/download/fdsc3/p01qDSHWUGqf/DoSt6VIaNe0oC2.jpg _v-75e15dfa=""> </li> </ul> </div> <ul class=nav-bar _v-75e15dfa=""> <li class=item _v-75e15dfa=""><a class=free v-link="{ path: \'/free\' }" _v-75e15dfa="">免费</a></li> <li class=item _v-75e15dfa=""><a class=boy v-link="{ path: \'/boy\' }" _v-75e15dfa="">男生</a></li> <li class=item _v-75e15dfa=""><a class=girl v-link="{ path: \'/girl\' }" _v-75e15dfa="">女生</a></li> <li class=item _v-75e15dfa=""><a class=category v-link="{ path: \'/category\' }" _v-75e15dfa="">分类</a></li> </ul> </section> <section class=main-card v-if=hot _v-75e15dfa=""> <group-header :title=hot.title _v-75e15dfa=""></group-header> <book-table :books=hot.data _v-75e15dfa=""></book-table> <group-footer :text=hot.info.more_text _v-75e15dfa=""></group-footer> </section> <section class=main-card v-if=recommend _v-75e15dfa=""> <header class=h5-header _v-75e15dfa=""> <h2 class=title v-text=recommend.title _v-75e15dfa=""></h2> <div class=recommend-tabs _v-75e15dfa=""> <a class=tab :class="{\'on\': recommend.type === \'boy\'}" @click.prevent="switchType(\'boy\')" _v-75e15dfa="">男</a> <a class=tab :class="{\'on\': recommend.type === \'girl\'}" @click.prevent="switchType(\'girl\')" _v-75e15dfa="">女</a> </div> </header> <ul class=h5-book-list _v-75e15dfa=""> <template v-for="book in recommendBooks"> <h5-book v-if="$index === 0" :book=book _v-75e15dfa=""></h5-book> <li class=h5-book v-else="" _v-75e15dfa=""> <a class=info v-link="{ name: \'book\', params: { fiction_id: book.fiction_id}}" _v-75e15dfa=""> <span class=index v-text="\'0\' + ($index+1)" _v-75e15dfa=""></span> <span class=title v-text=book.title _v-75e15dfa=""></span> <span class=author v-text=book.authors _v-75e15dfa=""></span> </a> </li> </template> </ul> <footer class=h5-footer _v-75e15dfa=""> <a class=next @click.prevent=getNextBooks(recommend[recommend.type]) _v-75e15dfa="">换一换</a> <a class=more v-link="{ path: recommend.type === \'girl\' ? \'/girl\' : \'/boy\' }" _v-75e15dfa="">查看全部</a> </footer> </section> <section class=main-card v-if=girl _v-75e15dfa=""> <header class=h5-header _v-75e15dfa=""> <h2 class=title v-text=girl.title _v-75e15dfa=""></h2> </header> <ul class=h5-book-list _v-75e15dfa=""> <h5-book v-for="book in girlBooks" :book=book _v-75e15dfa=""></h5-book> </ul> <footer class=h5-footer _v-75e15dfa=""> <a class=next @click.prevent=getNextBooks(girl) _v-75e15dfa="">换一换</a> <a class=more v-link="{ path: \'/girl\' }" v-text=girl.info.more_text _v-75e15dfa=""></a> </footer> </section> <section class=main-card v-if=boy _v-75e15dfa=""> <header class=h5-header _v-75e15dfa=""> <h2 class=title v-text=boy.title _v-75e15dfa=""></h2> </header> <ul class=h5-book-list _v-75e15dfa=""> <h5-book v-for="book in boyBooks" :book=book _v-75e15dfa=""></h5-book> </ul> <footer class=h5-footer _v-75e15dfa=""> <a class=next @click.prevent=getNextBooks(boy) _v-75e15dfa="">换一换</a> <a class=more v-link="{ path: \'/boy\' }" v-text=boy.info.more_text _v-75e15dfa=""></a> </footer> </section> <section class=main-card v-if=free _v-75e15dfa=""> <group-header :title=free.title _v-75e15dfa=""></group-header> <book-table :books=free.data _v-75e15dfa=""></book-table> <group-footer :text=free.info.more_text _v-75e15dfa=""></group-footer> </section> <section class=main-card v-if=topic _v-75e15dfa=""> <header class=h5-header _v-75e15dfa=""> <h2 class=title v-text=topic.title _v-75e15dfa=""></h2> </header> <ul class=banner-list _v-75e15dfa=""> <li class=banner v-for="banner in topic.data" _v-75e15dfa=""> <a _v-75e15dfa=""> <img class=cover :src=banner.ad_pic_url :alt=banner.ad_name _v-75e15dfa=""> </a> </li> </ul> <footer class=h5-footer _v-75e15dfa=""> <a class=more v-text=topic.info.more_text _v-75e15dfa=""></a> </footer> </section> <section class=main-card v-if=waterfallBooks.length _v-75e15dfa=""> <ul class=h5-book-list _v-75e15dfa=""> <h5-book v-for="book in waterfallBooks" :book=book track-by=$index _v-75e15dfa=""></h5-book> </ul> </section> </div> </div> '},function(t,e){t.exports=' <div class=free _v-7cedd8e3=""> <top title=免费专区 _v-7cedd8e3=""></top> <main class=container _v-7cedd8e3=""> <section class=main-card v-for="item in items" track-by=$index _v-7cedd8e3=""> <group-header :title=item.ad_name :desc=item.ad_copy _v-7cedd8e3=""></group-header> <book-table v-if="!($index==2||$index==4)" :books=item.books _v-7cedd8e3=""></book-table> <book-list v-if="($index==2||$index==4)" :books=item.books _v-7cedd8e3=""></book-list> <group-footer v-if="$index > 0" :text=item.info.more_text _v-7cedd8e3=""></group-footer> </section> </main> </div> '},function(t,e){t.exports=' <header class=top _v-b2674734=""> <a class=back onclick=window.history.go(-1) _v-b2674734=""></a> <span class=title v-text=title _v-b2674734=""></span> <a v-link="{path: \'/\'}" class=home _v-b2674734=""></a> </header> '},function(t,e){t.exports=' <div class=category _v-d56833ba="">category page</div> '},function(t,e){t.exports=' <li class=h5-book _v-e0ed45e4=""> <a class=h5-book-wrap v-link="{ name: \'book\', params: { fiction_id: book.fiction_id}}" _v-e0ed45e4=""> <div class=cover-wrap _v-e0ed45e4=""> <img class=cover :src=book.cover :alt=book.title _v-e0ed45e4=""> <p class=finish v-text="book.finish ? \'完结\' : \'连载\'" _v-e0ed45e4=""></p> </div> <div class=info _v-e0ed45e4=""> <p class=title v-text=book.title _v-e0ed45e4=""></p> <p class=author v-text=book.authors _v-e0ed45e4=""></p> <p class=summary v-text=book.summary _v-e0ed45e4=""></p> <p class=tags _v-e0ed45e4=""> <span class=tag v-for="tag in tags" v-text=tag _v-e0ed45e4=""></span> </p> </div> </a> </li> '},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(5),s=o(11),r=a(s),n=o(32),c=a(n);e.default={components:{Top:r.default,BookTable:c.default},computed:{tags:function(){return this.book.tags?this.book.tags.slice(0,3):[]},scoreClass:function(){return this.book.score?"score-"+parseInt(this.book.score):"score-0"}},filters:{smartDate:function(t){if(t*=1e3,!t)return"";var e=new Date,o=e.getTime(),a="1分钟前",i=o-t;if(i>6048e5){var s=new Date(t),r=s.getFullYear(),n=s.getMonth()+1,c=s.getDate(),d=s.getHours(),l=s.getMinutes();a=r===e.getFullYear()?"":r+"年",a+=n+"月"+c+"日 "+d+":"+(l<10?"0":""+l)}else i>=864e5?a=Math.floor(i/864e5)+"天前":i>=36e5?a=Math.floor(i/36e5)+"小时前":i>=6e4&&(a=Math.floor(i/6e4)+"分钟前");return a}},methods:{init:function(){var t=this,e=this.$route.params.fiction_id;(0,i.getApiData)("/api/book/"+e,function(e){t.book=e.item,t.author_books=e.author_books,t.related=e.related})}},route:{data:function(){this.init()}},data:function(){return{book:{},author_books:[],related:[]}},ready:function(){this.init()}}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(5),s=o(11),r=a(s),n=o(17),c=a(n),d=o(31),l=a(d),u=o(16),f=a(u);e.default={components:{Top:r.default,GroupHeader:c.default,BookList:l.default,GroupFooter:f.default},data:function(){return{items:[]}},ready:function(){var t=this;(0,i.getApiData)("/api/channel/369",function(e){e.items.map(function(e){var o={ad_name:e.ad_name,books:e.data.data,info:(0,i.parseHiddenInfo)(e.hidden_info)};t.items.push(o)})})}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(5);e.default={ready:function(){(0,a.getApiData)("/api/category",function(t){return console.log(t)})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{books:Array}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{books:Array}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:String}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:String,desc:String}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{book:Object},computed:{tags:function(){var t=this.book.tags.slice(0,2);return t.push(parseInt(this.book.word_count/1e4)+"万字"),t}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:String}}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(5),s=o(11),r=a(s),n=o(17),c=a(n),d=o(32),l=a(d),u=o(31),f=a(u),p=o(16),v=a(p);e.default={components:{Top:r.default,GroupHeader:c.default,BookTable:l.default,BookList:f.default,GroupFooter:v.default},data:function(){return{items:[]}},ready:function(){var t=this;(0,i.getApiData)("/api/channel/371",function(e){e.items.map(function(e){var o={ad_name:e.ad_name,ad_copy:e.ad_copy,books:[],info:(0,i.parseHiddenInfo)(e.hidden_info)};e.data.data.map(function(t){o.books.push(t.data?t.data:t)}),t.items.push(o)})})}}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(5),s=o(11),r=a(s),n=o(17),c=a(n),d=o(31),l=a(d),u=o(16),f=a(u);e.default={components:{Top:r.default,GroupHeader:c.default,BookList:l.default,GroupFooter:f.default},data:function(){return{items:[]}},ready:function(){var t=this;(0,i.getApiData)("/api/channel/370",function(e){e.items.map(function(e){var o={ad_name:e.ad_name,books:e.data.data,info:(0,i.parseHiddenInfo)(e.hidden_info)};t.items.push(o)})})}}},function(t,e,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(134),s=a(i),r=o(5),n=o(11),c=a(n),d=o(17),l=a(d),u=o(32),f=a(u),p=o(16),v=a(p),h=o(139),_=a(h);e.default={components:{Top:c.default,GroupHeader:l.default,BookTable:f.default,GroupFooter:v.default,H5Book:_.default},computed:{recommendBooks:function(){var t=this.recommend[this.recommend.type];return t.data.filter(function(e,o){return o>=t.start&&o<t.start+5})},girlBooks:function(){var t=this;return this.girl.data.filter(function(e,o){return o>=t.girl.start&&o<t.girl.start+5})},boyBooks:function(){var t=this;return this.boy.data.filter(function(e,o){return o>=t.boy.start&&o<t.boy.start+5})}},methods:{getNextBooks:function(t){t.start=(t.start+5)%t.data.length},switchType:function(t){this.recommend.type=t},addWaterfallBooks:function(){var t=this,e=this.waterfallBooks.length;(0,r.getApiData)("/api/recommend?start="+e,function(o){if(e===t.waterfallBooks.length){var a;(a=t.waterfallBooks).push.apply(a,(0,s.default)(o.items))}})},containerScroll:function(){var t=this;this.timer||(this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null;var e=t.$els.container;e.scrollHeight-e.clientHeight-e.scrollTop<.5*e.clientHeight&&t.addWaterfallBooks()},500))}},data:function(){return{items:null,top:null,hot:null,recommend:null,girl:null,boy:null,free:null,topic:null,waterfallBooks:[],timer:null}},ready:function(){var t=this;(0,r.getApiData)("/api/channel/418",function(e){t.items=e,["top","hot","recommend","girl","boy","free","topic"].map(function(o,a){var i={title:e.items[a].ad_name,info:(0,r.parseHiddenInfo)(e.items[a].hidden_info),data:e.items[a].data.data};"boy"===o||"girl"===o?i.start=0:"recommend"===o?(i.type="boy",i.boy={start:0,data:e.items[a].data.data.slice(0,15)},i.girl={start:0,data:e.items[a].data.data.slice(15)},delete i.data):"free"===o&&(i.data=e.items[a].data.data.map(function(t){return t.data})),t.$set(o,i)})})}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(5);e.default={computed:{bgStyleObj:function(){var t=this.bgStyleObjs[5],e=this.bgStyleObjs[this.bgType];return this.nightMode?t:e}},methods:{toggleBar:function(){this.barShow=!this.barShow,this.barShow===!1&&this.hideBar()},hideBar:function(){this.fontBarShow=!1,this.popupShow=!1,this.barShow=!1},togglePopupShow:function(){this.popupShow=!this.popupShow},toggleAutoBuy:function(){this.isAutoBuy=!this.isAutoBuy,(0,a.storageSetter)("auto_buy",this.isAutoBuy)},goBack:function(){window.history.go(-1)},toggleFontBar:function(){this.fontBarShow=!this.fontBarShow},switchNightMode:function(){this.nightMode=!this.nightMode,(0,a.storageSetter)("night-mode",this.nightMode)},changeBgType:function(t){this.bgType=t,(0,a.storageSetter)("background-type",this.bgType)},largeFontSize:function(){this.fontSize<22&&(0,a.storageSetter)("font-size",++this.fontSize)},smallFontSize:function(){this.fontSize>12&&(0,a.storageSetter)("font-size",--this.fontSize)},getPrevChapter:function(){this.chapterId>0&&this.refresh_reader_body(this.chapterId-1)},getNextChapter:function(){this.chapterId<this.book.chapter_count&&this.refresh_reader_body(this.chapterId+1)},refresh_reader_body:function(t){var e=this;this.contentShow=!1,this.$nextTick(function(){(0,a.getChapterContent)("/api/link?fiction_id="+e.fictionId+"&chapter_id="+t,function(o){e.chapters.splice(0,e.chapters.length,o),e.$els.readerBody.scrollTop=0,e.contentShow=!0,e.chapterId=t,(0,a.storageSetter)(e.fictionId+"-chapter_id",t)})})},bodyScroll:function(){var t=this;null===this.timer&&(this.timer=setTimeout(function(){clearTimeout(t.timer),t.timer=null,t.hideBar();var e=t.$els.readerBody,o=e.scrollHeight-e.scrollTop-e.clientHeight<.5*e.clientHeight;o&&(0,a.getChapterContent)("/api/link?fiction_id="+t.fictionId+"&chapter_id="+(t.chapterId+1),function(e){t.chapters.push(e),(0,a.storageSetter)(t.fictionId+"-chapter_id",++t.chapterId)})},1e3))},init:function(){var t=this;this.hideBar(),this.contentShow=!1,this.fictionId=this.$route.query.fiction_id,this.chapterId=parseInt((0,a.storageGetter)(this.fictionId+"-chapter_id"))||0,this.fontSize=parseInt((0,a.storageGetter)("font-size"))||14,this.nightMode="true"===(0,a.storageGetter)("night-mode"),this.bgType=parseInt((0,a.storageGetter)("background-type"))||0,this.isAutoBuy="true"===(0,a.storageGetter)("auto_buy"),(0,a.getChapterContent)("/api/link?fiction_id="+this.fictionId+"&chapter_id="+this.chapterId,function(e){t.chapters.splice(0,t.chapters.length,e),t.contentShow=!0},function(){window.alert("加载失败，点击重新加载"),t.init()}),(0,a.getApiData)("/api/detail/"+this.fictionId,function(e){t.book=e.item})}},route:{data:function(){this.init()}},data:function(){return{fictionId:0,chapterId:0,book:{},barShow:!1,popupShow:!1,isAutoBuy:!1,contentShow:!1,nightMode:!1,fontBarShow:!1,timer:null,chapters:[],fontSize:14,bgStyleObjs:[{background:"#f7eee5"},{background:"#e9dfc7"},{background:"#a4a4a4"},{background:"#cdefce"},{background:"#283548",color:"#7685a2"},{background:"#0f1410",color:"#4e534f"}],bgType:0}},ready:function(){this.init()}}},,,,,,,function(t,e,o){var a,i,s={};o(49),a=o(115),i=o(66),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(51),a=o(116),i=o(68),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(55),a=o(117),i=o(72),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(61),a=o(118),i=o(78),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(62),a=o(123),i=o(79),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(59),a=o(125),i=o(76),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(50),a=o(126),i=o(67),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(58),a=o(127),i=o(75),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},function(t,e,o){var a,i,s={};o(57),a=o(128),i=o(74),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;i&&(r.template=i),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})}]);
//# sourceMappingURL=app.eee1c2df862aaea0087b.js.map